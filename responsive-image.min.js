!function(n){"use strict";function o(o,e,t){var i={selector:"img",background:"rgba(0,0,0,0.4)",root:"body",maxWindowWidth:"0.8",maxWindowHeight:"0.8",contentBg:"#fff",contentPadding:"10",loaderElement:'<i class="fa fa-spinner rs-loader-spinner" aria-hidden="true"></i>',onlyShowContent:!1},d=null,c=null,r=null;t=t||{},i=n.extend(i,t);var a=function(){var o=['<div class="rs-img-bg" style="display:none; background-color: '+i.background+'">',i.loaderElement,'<div class="rs-content-wrapper" style="display:none; background-color: '+i.contentBg+"; padding: "+i.contentPadding+'px">',e.html(),"</div>","</div>"].join("");d=n(o).appendTo(n(i.root)),n(d).fadeIn()},s=function(o){d||(o.wrap(function(){return'<div class="rs-img-bg" style="display:none; background-color: '+i.background+'"></div>'}),o.addClass("rs-content-wrapper").css("display","none").css("background-color",i.contentBg).css("padding",i.contentPadding+"px"),o.closest(".rs-img-bg").append(i.loaderElement),d=o.closest(".rs-img-bg")),n(d).fadeIn()},l=function(n){d&&u(),i.onlyShowContent?s(n):a(n),f(function(){w(),y(),h()})},u=function(){i.onlyShowContent||(n(d).remove(),d=null),r=null,c=null,m()},f=function(n){var o=d.find(i.selector).attr("src"),e=new Image;e.onload=function(){r=this.height,c=this.width,"function"==typeof n&&n()},e.src=o},g=function(){var o=n(window).width()*i.maxWindowWidth-2*i.contentPadding,e=n(window).height()*i.maxWindowHeight-2*i.contentPadding,t=Math.min(o/c,e/r);return t>1?{width:c,height:r}:{width:c*t,height:r*t}},h=function(){n(d).find(".rs-loader-spinner").hide(),n(d).find(".rs-content-wrapper").fadeIn()},p=function(o){("keyup"!==o.type||27===o.keyCode)&&o.target===this&&n(d).fadeOut(400,function(){u()})},w=function(){n(window).on("resize",y),n(d).on("click",p),n(document).on("keyup",p)},m=function(){n(window).off("resize",y),n(d).off("click",p),n(document).off("keyup",p)},y=function(){var o=g();n(d).find(".rs-content-wrapper").css("width",o.width+"px").css("height",o.height+"px")},v=function(n,o){n.click(function(){l(o)})};v(o,e)}"undefined"==typeof n&&console.log("The Responsive image plugin need to have jQuery"),n.fn.responsiveImage=function(n,e){var t=new o(this,n,e);return t}}(jQuery);