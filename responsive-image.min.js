!function(n){"use strict";function i(i,e,t){var o={selector:"img",background:"rgba(0,0,0,0.4)",root:"body",maxWindowWidth:"0.8",maxWindowHeight:"0.8",contentBg:"#fff",contentPadding:"10",loaderElement:'<i class="fa fa-spinner rs-loader-spinner" aria-hidden="true"></i>'},d=null,c=null,r=null;t=t||{},o=n.extend(o,t);var a=function(){var i=['<div class="rs-img-bg" style="display:none; background-color: '+o.background+'">',o.loaderElement,'<div class="rs-content-wrapper" style="display:none; background-color: '+o.contentBg+"; padding: "+o.contentPadding+'px">',e.html(),"</div>","</div>"].join("");d=n(i).appendTo(n(o.root)),n(d).fadeIn()},f=function(n){d&&u(),a(n),s(function(){g(),v(),p()})},u=function(){n(d).remove(),d=null,r=null,c=null,w()},s=function(n){var i=d.find(o.selector).attr("src"),e=new Image;e.onload=function(){r=this.height,c=this.width,"function"==typeof n&&n()},e.src=i},l=function(){var i=n(window).width()*o.maxWindowWidth-2*o.contentPadding,e=n(window).height()*o.maxWindowHeight-2*o.contentPadding,t=Math.min(i/c,e/r);return t>1?{width:c,height:r}:{width:c*t,height:r*t}},p=function(){n(d).find(".rs-loader-spinner").hide(),n(d).find(".rs-content-wrapper").fadeIn()},h=function(i){("keyup"!==i.type||27===i.keyCode)&&n(d).fadeOut(400,function(){u()})},g=function(){n(window).on("resize",v),n(d).on("click",h),n(d).find(".rs-content-wrapper").on("click",m),n(document).on("keyup",h)},w=function(){n(window).off("resize",v),n(d).off("click",h),n(d).find(".rs-content-wrapper").off("click",m),n(document).off("keyup",h)},m=function(n){n.stopPropagation()},v=function(){var i=l();n(d).find(".rs-content-wrapper").css("width",i.width+"px").css("height",i.height+"px")},y=function(n,i){n.click(function(){f(i),g()})};y(i,e)}"undefined"==typeof n&&console.log("The Responsive image plugin need to have jQuery"),n.fn.responsiveImage=function(n,e){var t=new i(this,n,e);return t}}(jQuery);