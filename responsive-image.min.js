!function(n){"use strict";function e(e,o,t){var i={selector:"img",background:"rgba(0,0,0,0.4)",root:"body",maxWindowWidth:"0.8",maxWindowHeight:"0.8",contentBg:"#fff",contentPadding:"10",loaderElement:'<i class="fa fa-spinner rs-loader-spinner" aria-hidden="true"></i>',onlyShowContent:!1},d=null,c=null,r=null;t=t||{},i=n.extend(i,t);var a=function(){var e=['<div class="rs-img-bg" style="display:none; background-color: '+i.background+'">',i.loaderElement,'<div class="rs-content-wrapper" style="display:none; background-color: '+i.contentBg+"; padding: "+i.contentPadding+'px">',o.html(),"</div>","</div>"].join("");d=n(e).appendTo(n(i.root)),n(d).fadeIn()},s=function(e){e.wrap(function(){return'<div class="rs-img-bg" style="display:none; background-color: '+i.background+'"></div>'}),e.addClass("rs-content-wrapper").css("display","none").css("background-color",i.contentBg).css("padding",i.contentPadding+"px"),e.closest(".rs-img-bg").append(i.loaderElement),d=e.closest(".rs-img-bg"),n(d).fadeIn()},l=function(n){d&&u(),i.onlyShowContent?s(n):a(n),f(function(){w(),y(),p()})},u=function(){n(d).remove(),d=null,r=null,c=null,m()},f=function(n){var e=d.find(i.selector).attr("src"),o=new Image;o.onload=function(){r=this.height,c=this.width,"function"==typeof n&&n()},o.src=e},g=function(){var e=n(window).width()*i.maxWindowWidth-2*i.contentPadding,o=n(window).height()*i.maxWindowHeight-2*i.contentPadding,t=Math.min(e/c,o/r);return t>1?{width:c,height:r}:{width:c*t,height:r*t}},p=function(){n(d).find(".rs-loader-spinner").hide(),n(d).find(".rs-content-wrapper").fadeIn()},h=function(e){("keyup"!==e.type||27===e.keyCode)&&e.target===this&&n(d).fadeOut(400,function(){u()})},w=function(){n(window).on("resize",y),n(d).on("click",h),n(document).on("keyup",h)},m=function(){n(window).off("resize",y),n(d).off("click",h),n(document).off("keyup",h)},y=function(){var e=g();n(d).find(".rs-content-wrapper").css("width",e.width+"px").css("height",e.height+"px")},v=function(n,e){n.click(function(){l(e)})};v(e,o)}"undefined"==typeof n&&console.log("The Responsive image plugin need to have jQuery"),n.fn.responsiveImage=function(n,o){var t=new e(this,n,o);return t}}(jQuery);