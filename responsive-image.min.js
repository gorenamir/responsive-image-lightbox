!function(n){"use strict";function e(e,i,o){var t={selector:"img",background:"rgba(0,0,0,0.4)",root:"body",maxWindowWidth:"0.8",maxWindowHeight:"0.8",contentBg:"#fff",contentPadding:"10",loaderElement:'<i class="fa fa-spinner rs-loader-spinner" aria-hidden="true"></i>'},d=null,c=null,r=null;o=o||{},t=n.extend(t,o);var a=function(){var e=['<div class="rs-img-bg" style="display:none; background-color: '+t.background+'">',t.loaderElement,'<div class="rs-content-wrapper" style="display:none; background-color: '+t.contentBg+"; padding: "+t.contentPadding+'px">',i.html(),"</div>","</div>"].join("");d=n(e).appendTo(n(t.root)),n(d).fadeIn()},f=function(n){d&&u(),a(n),s(function(){h(),v(),p()})},u=function(){n(d).remove(),d=null,r=null,c=null,w()},s=function(n){var e=d.find(t.selector).attr("src"),i=new Image;i.onload=function(){r=this.height,c=this.width,"function"==typeof n&&n()},i.src=e},l=function(){var e=n(window).width()*t.maxWindowWidth-2*t.contentPadding,i=n(window).height()*t.maxWindowHeight-2*t.contentPadding,o=Math.min(e/c,i/r);return{width:c*o,height:r*o}},p=function(){n(d).find(".rs-loader-spinner").hide(),n(d).find(".rs-content-wrapper").fadeIn()},g=function(e){("keyup"!==e.type||27===e.keyCode)&&n(d).fadeOut(400,function(){u()})},h=function(){n(window).on("resize",v),n(d).on("click",g),n(d).find(".rs-content-wrapper").on("click",m),n(document).on("keyup",g)},w=function(){n(window).off("resize",v),n(d).off("click",g),n(d).find(".rs-content-wrapper").off("click",m),n(document).off("keyup",g)},m=function(n){n.stopPropagation()},v=function(){var e=l();n(d).find(".rs-content-wrapper").css("width",e.width+"px").css("height",e.height+"px")},y=function(n,e){n.click(function(){f(e),h()})};y(e,i)}"undefined"==typeof n&&console.log("The Responsive image plugin need to have jQuery"),n.fn.responsiveImage=function(n,i){var o=new e(this,n,i);return o}}(jQuery);