!function(n){"use strict";function t(t,e,o){var i={selector:"img",background:"rgba(0,0,0,0.4)",root:"body",maxWindowWidth:"0.8",maxWindowHeight:"0.8",contentBg:"#fff",contentPadding:"10",loaderElement:'<i class="fa fa-spinner rs-loader-spinner" aria-hidden="true"></i>',onlyShowContent:!1},d=null,c=null,r=null;o=o||{},i=n.extend(i,o);var a=function(){var t=['<div class="rs-img-bg" style="display:none; background-color: '+i.background+'">',i.loaderElement,'<div class="rs-content-wrapper" style="display:none; background-color: '+i.contentBg+"; padding: "+i.contentPadding+'px">',e.html(),"</div>","</div>"].join("");d=n(t).appendTo(n(i.root)),n(d).fadeIn()},s=function(t){d||(0==t.closest(".rs-img-bg").length&&(t.wrap(function(){return'<div class="rs-img-bg" style="display:none; background-color: '+i.background+'"></div>'}),t.addClass("rs-content-wrapper").css("display","none").css("background-color",i.contentBg).css("padding",i.contentPadding+"px"),t.closest(".rs-img-bg").append(i.loaderElement)),d=t.closest(".rs-img-bg")),n(d).fadeIn()},l=function(n){d&&u(),i.onlyShowContent?s(n):a(n),g(function(){w(),y(),h()})},u=function(){i.onlyShowContent||(n(d).remove(),d=null),r=null,c=null,m()},g=function(n){var t=d.find(i.selector).attr("src"),e=new Image;e.onload=function(){r=this.height,c=this.width,"function"==typeof n&&n()},e.src=t},f=function(){var t=n(window).width()*i.maxWindowWidth-2*i.contentPadding,e=n(window).height()*i.maxWindowHeight-2*i.contentPadding,o=Math.min(t/c,e/r);return o>1?{width:c+2*i.contentPadding,height:r+2*i.contentPadding}:{width:c*o+2*i.contentPadding,height:r*o+2*i.contentPadding}},h=function(){n(d).find(".rs-loader-spinner").hide(),n(d).find(".rs-content-wrapper").fadeIn()},p=function(t){("keyup"!==t.type||27===t.keyCode)&&t.target===this&&n(d).fadeOut(400,function(){u()})},w=function(){n(window).on("resize",y),n(d).on("click",p),n(document).on("keyup",p)},m=function(){n(window).off("resize",y),n(d).off("click",p),n(document).off("keyup",p)},y=function(){var t=f();n(d).find(".rs-content-wrapper").css("width",t.width+"px").css("height",t.height+"px")},v=function(n,t){n.click(function(){l(t)})};v(t,e)}"undefined"==typeof n&&console.log("The Responsive image plugin need to have jQuery"),n.fn.responsiveImage=function(n,e){var o=new t(this,n,e);return o}}(jQuery);